!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).VueInlineSvg={})}(this,(function(t){"use strict";var e={};var n={inheritAttrs:!1,render:function(t){return this.isLoaded?t("svg",{on:this.$listeners,attrs:Object.assign(this.svgAttrs,(e=this.$attrs,Object.keys(e).reduce((function(t,n){return!1!==e[n]&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),t}),{}))),domProps:{innerHTML:this.svgContent}}):null;var e},props:{src:{type:String,required:!0},transformSource:{type:Function,default:function(t){return t}}},data:function(){return{isLoaded:!1,svgAttrs:{},svgContent:""}},watch:{src:function(t){this.inline(t)}},mounted:function(){this.inline(this.src)},methods:{inline:function(t){var n=this;e[t]||(this.isLoaded&&(this.isLoaded=!1,this.$emit("unloaded")),e[t]=this.download(t)),e[t].then((function(t){n.svgAttrs={};for(var e=t.attributes,i=e.length-1;i>=0;i--)n.svgAttrs[e[i].name]=e[i].value;n.svgContent=t.innerHTML,n.isLoaded=!0,n.$nextTick((function(){n.$emit("loaded",n.$el)}))})).catch((function(i){delete e[t],n.$emit("error",i)}))},download:function(t){var e=this;return new Promise((function(n,i){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(){if(r.status>=200&&r.status<400)try{var t=(new DOMParser).parseFromString(r.responseText,"text/xml").getElementsByTagName("svg")[0];t?(t=e.transformSource(t),n(t)):i(new Error('Loaded file is not valid SVG"'))}catch(t){i(t)}else i(new Error("Error loading SVG"))},r.onerror=i,r.send()}))}}},i={install:function(t){t.component("inline-svg",n)}};t.InlineSvgComponent=n,t.InlineSvgPlugin=i,t.default=n,Object.defineProperty(t,"__esModule",{value:!0})}));
